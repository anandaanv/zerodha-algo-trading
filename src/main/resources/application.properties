spring.datasource.driverClassName=com.mysql.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/algotrading?autoreconnect=true
spring.datasource.username=anand
spring.datasource.password=password
spring.jpa.hibernate.ddl-auto=update

hibernate.dialect.storage_engine=innodb
server.port=8080
#spring.jpa.show-sql=true
#spring.datasource.testOnBorrow=true
#spring.datasource.testWhileIdle=true
#spring.datasource.timeBetweenEvictionRunsMillis=60000
#spring.datasource.minEvictableIdleTimeMillis=30000
#spring.datasource.validationQuery=SELECT 1
#spring.datasource.max-active=15
#spring.datasource.max-idle=10
#spring.datasource.max-wait=8000

spring.datasource.hikari.keepaliveTime=60000
spring.datasource.hikari.idleTimeout=120000
spring.datasource.hikari.maxLifetime=600000


# Secrets moved to DB (app_secrets) or environment placeholders (overridden by DB on startup)
kite.api.key=${KITE_API_KEY:}
kite.api.user=${KITE_API_USER:}
kite.api.secret=${KITE_API_SECRET:}

spring.application.admin.enabled=true
spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false

# Matplotlib chart configuration
matplotlib.python.script.path=src/main/python/matplotlib_chart.py
matplotlib.temp.directory=/tmp
matplotlib.gateway.port=25333

# OpenAI configuration
openai.baseUrl=${OPENAI_BASE_URL:https://api.openai.com/v1}
openai.apiKey=${OPENAI_API_KEY:}
openai.key=${OPENAI_API_KEY:}
spring.ai.openai.api-key=${OPENAI_API_KEY:}
spring.ai.openai.chat.options.temperature=1
openai.model=${OPENAI_MODEL:gpt-4o-mini}

# Charts configuration
charts.output.directory=/tmp/charts
charts.temp.directory=/tmp/charts/temp
charts.use.tradingview=true

# Browser Pool Configuration
charts.browser.pool.size=3
charts.browser.timeout=30

# WhatsApp configuration
whatsapp.token=${WHATSAPP_TOKEN:}
whatsapp.recipients=${WHATSAPP_RECIPIENTS:}
alerts.whatsapp.types=SWING_BUY,SWING_SELL,ASTA_BUY,ASTA_SELL
whatsapp.phone-number-id=${WHATSAPP_PHONE_NUMBER_ID:}
whatsapp.graph.api.version=${WHATSAPP_GRAPH_API_VERSION:v22.0}

patterns.trendlines.enabled=true
charts.visibleBars.default=1000

# Optional: legacy key form
openai.base-url=${OPENAI_BASE_URL:https://api.openai.com/v1}

spring.devtools.restart.exclude=org/jetbrains/kotlin/**,kotlin-*.jar,META-INF/services/javax.script.ScriptEngineFactory
spring.devtools.restart.additional-exclude=com/dtech/algo/screener/**,com/dtech/algo/screener/dsl/**

spring.devtools.restart.enabled=false